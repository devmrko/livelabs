# 💡 LiveLabs AI Assistant 사용 예시

이 문서는 LiveLabs AI Assistant의 주요 기능들을 실제 사용 예시와 함께 설명합니다.

## 🔍 시맨틱 검색 서비스 (포트 8001)

### 기본 워크샵 검색
**URL**: `http://localhost:8001/search`
**요청**:
```json
{
  "query": "select ai",
  "limit": 5
}
```

**응답**:
```json
{
  "success": true,
  "workshops": [
    {
      "id": "3831",
      "title": "Oracle SELECT AI",
      "similarity_score": 0.95,
      "difficulty": "INTERMEDIATE",
      "category": "Database",
      "url": "https://livelabs.oracle.com/pls/apex/r/dbpm/livelabs/view-workshop?wid=3831"
    }
  ],
  "total_found": 1
}
```

### Python 관련 워크샵 검색
**요청**:
```json
{
  "query": "Python 초보자를 위한 데이터 분석",
  "limit": 3,
  "difficulty": "BEGINNER"
}
```

**응답**:
```json
{
  "success": true,
  "workshops": [
    {
      "id": "1234",
      "title": "Python으로 시작하는 데이터 분석",
      "similarity_score": 0.92,
      "difficulty": "BEGINNER",
      "category": "Data Science",
      "duration_estimate": "2 Hours",
      "author": "Oracle Team"
    }
  ]
}
```

## 💬 자연어 쿼리 서비스 (포트 8002)

### 사용자 스킬 조회
**URL**: `http://localhost:8002/users/search/nl`
**요청**:
```json
{
  "query": "Oracle Database skill을 가진 유저는?"
}
```

**응답**:
```json
{
  "success": true,
  "users": [
    {
      "name": "류현재",
      "email": "hyun-jae.ryu@oracle.com",
      "skill": "Oracle Database",
      "experience_level": "ADVANCED"
    }
  ],
  "total_found": 1,
  "sql_query": "SELECT LU.\"NAME\" AS \"USER_NAME\", LU.\"EMAIL\", LUS.\"SKILL\", LUS.\"EXPERIENCE_LEVEL\"\nFROM \"ADMIN\".\"LIVELABS_USERS\" LU\nJOIN \"ADMIN\".\"LIVELABS_USERS_SKILL\" LUS ON LU.\"USER_ID\" = LUS.\"USER_ID\"\nWHERE LUS.\"SKILL\" = 'Oracle Database'",
  "explanation": "Oracle Database 스킬을 가진 사용자를 찾았습니다.",
  "query": "Oracle Database skill을 가진 유저는?"
}
```

### 완료된 워크샵 조회
**요청**:
```json
{
  "query": "지난 달에 완료된 워크샵은?"
}
```

**응답**:
```json
{
  "success": true,
  "workshops": [
    {
      "workshop_title": "Getting Started with Oracle Cloud",
      "user_name": "도상훈",
      "completion_date": "2024-01-15",
      "rating": 5
    }
  ],
  "sql_query": "SELECT w.TITLE, u.NAME, p.COMPLETION_DATE, p.RATING FROM USER_PROGRESS p JOIN LIVELABS_USERS u ON p.USER_ID = u.USER_ID JOIN LIVELABS_WORKSHOPS2 w ON p.WORKSHOP_ID = w.ID WHERE p.COMPLETION_DATE >= TRUNC(ADD_MONTHS(SYSDATE, -1), 'MM')"
}
```

## 📈 사용자 스킬 진도 관리 서비스 (포트 8003)

### 새 사용자 추가
**URL**: `http://localhost:8003/users/add`
**요청**:
```json
{
  "name": "도상훈",
  "email": "sh.doh@oracle.com"
}
```

**응답**:
```json
{
  "success": true,
  "user": {
    "userId": "50d84359-4e02-456f-a4c0-2f624323f448",
    "name": "도상훈",
    "email": "sh.doh@oracle.com",
    "createdDate": "2024-01-20T10:30:00"
  }
}
```

### 사용자 스킬 추가
**URL**: `http://localhost:8003/users/skills/update`
**요청**:
```json
{
  "userId": "50d84359-4e02-456f-a4c0-2f624323f448",
  "skill": "Oracle Database",
  "experienceLevel": "INTERMEDIATE"
}
```

**응답**:
```json
{
  "success": true,
  "message": "Skill 'Oracle Database' added for user 50d84359-4e02-456f-a4c0-2f624323f448.",
  "skill": {
    "skillName": "Oracle Database",
    "experienceLevel": "INTERMEDIATE",
    "skillAdded": "2024-01-20T10:35:00"
  }
}
```

### 워크샵 완료 기록
**URL**: `http://localhost:8003/users/progress/update`
**요청**:
```json
{
  "userId": "50d84359-4e02-456f-a4c0-2f624323f448",
  "workshopId": "649",
  "status": "COMPLETED",
  "rating": 5
}
```

**응답**:
```json
{
  "success": true,
  "message": "Workshop progress updated successfully.",
  "progress": {
    "userId": "50d84359-4e02-456f-a4c0-2f624323f448",
    "workshopId": "649",
    "status": "COMPLETED",
    "completionDate": "2024-01-20T11:00:00",
    "rating": 5
  }
}
```

### 사용자 프로필 조회
**URL**: `http://localhost:8003/users/50d84359-4e02-456f-a4c0-2f624323f448`

**응답**:
```json
{
  "success": true,
  "user": {
    "_id": "68a54c68ca900cad0774cd04",
    "userId": "50d84359-4e02-456f-a4c0-2f624323f448",
    "name": "도상훈",
    "email": "sh.doh@oracle.com",
    "created": "2024-01-20T10:30:00",
    "skills": [
      {
        "skillName": "Oracle Database",
        "experienceLevel": "INTERMEDIATE",
        "skillAdded": "2024-01-20"
      },
      {
        "skillName": "Python",
        "experienceLevel": "BEGINNER",
        "skillAdded": "2024-01-20"
      }
    ]
  }
}
```

## 🤖 AI Workshop Planner 대화 예시

### Streamlit 앱에서의 대화
**URL**: `http://localhost:8501`

**사용자**: "Python 초보자를 위한 워크샵 추천해주세요"

**AI 응답**:
```
🎓 맞춤형 학습 경로 추천

안녕하세요! 여러분의 AI Workshop Planner입니다.
Python 초보자를 위한 워크샵을 찾았습니다!

### 📚 추천 워크샵

1. **Python으로 시작하는 데이터 분석**
   - 난이도: BEGINNER
   - 카테고리: Data Science
   - 예상 소요시간: 2시간
   - 유사도: 92.5%
   - [학습 시작하기](https://livelabs.oracle.com/...)

2. **Python 기초 프로그래밍**
   - 난이도: BEGINNER
   - 카테고리: Programming
   - 예상 소요시간: 3시간
   - 유사도: 89.2%
   - [학습 시작하기](https://livelabs.oracle.com/...)

### 💡 학습 팁
Python을 처음 시작하시는 분께는 첫 번째 워크샵부터 차근차근 진행하시는 것을 추천드립니다!
```

**사용자**: "내 스킬에 맞는 워크샵 추천해주세요"

**AI 워크플로우**:
```
Step 1: 사용자 스킬 조회 (NL Query)
→ Oracle Database: INTERMEDIATE, Python: BEGINNER

Step 2: 시맨틱 검색 (Semantic Search)  
→ 스킬 레벨에 맞는 워크샵 검색

Step 3: AI 응답 생성
→ 개인화된 한국어 추천 생성
```

## 🔧 서비스 상태 확인

### 헬스 체크
```bash
# 모든 서비스 상태 확인
curl http://localhost:8001/health
curl http://localhost:8002/health  
curl http://localhost:8003/health
```

**응답 예시**:
```json
{
  "status": "healthy",
  "service": "semantic-search",
  "version": "1.0.0",
  "timestamp": "2024-01-20T12:00:00Z",
  "database_connection": "ok",
  "embedding_service": "ok"
}
```

### MCP 도구 목록 확인
```bash
curl http://localhost:8001/mcp/tools
```

**응답**:
```json
{
  "tools": [
    {
      "name": "search_workshops",
      "description": "Search for workshops using semantic similarity",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {"type": "string"},
          "limit": {"type": "integer"}
        }
      }
    }
  ]
}
```

## 🚨 오류 처리 예시

### 잘못된 요청
**요청**:
```json
{
  "query": "",
  "limit": -1
}
```

**응답**:
```json
{
  "success": false,
  "error": "Invalid request parameters",
  "details": {
    "query": "Query cannot be empty",
    "limit": "Limit must be positive integer"
  }
}
```

### 서비스 연결 오류
**응답**:
```json
{
  "success": false,
  "error": "Database connection failed",
  "message": "Unable to connect to Oracle Database. Please check connection settings.",
  "timestamp": "2024-01-20T12:00:00Z"
}
```
